<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
    <div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
        <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
            <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0" ng-if="!vm.isEditMode">
                {{::vm.translate.get('Create Product')}}
            </h1>
            <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0" ng-if="vm.isEditMode">
                {{::vm.translate.get('Edit Product')}} {{vm.product.name}}
            </h1>
            <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                <li class="breadcrumb-item text-muted">
                    <a href="admin" class="text-muted text-hover-primary">{{::vm.translate.get('Home')}}</a>
                </li>
                <li class="breadcrumb-item">
                    <span class="bullet bg-gray-400 w-5px h-2px"></span>
                </li>
                <li class="breadcrumb-item text-muted">
                    <a ui-sref="product" class="text-muted text-hover-primary">{{::vm.translate.get('Product')}}</a>
                </li>
                <li class="breadcrumb-item">
                    <span class="bullet bg-gray-400 w-5px h-2px"></span>
                </li>
                <li class="breadcrumb-item text-muted" ng-if="!vm.isEditMode"> {{::vm.translate.get('Create Product')}}</li>
                <li class="breadcrumb-item text-muted" ng-if="vm.isEditMode"> {{::vm.translate.get('Edit Product')}}</li>
            </ul>
        </div>
        <div class="d-flex align-items-center gap-2 gap-lg-3">
            <a ng-if="vm.isEditMode" ui-sref="product-clone({id: vm.product.id})" class="btn btn-sm fw-bold btn-primary"><span class="la la-copy mr-1"></span> {{::vm.translate.get('Clone Product')}}</a>
        </div>
    </div>
</div>
<div id="kt_app_content" class="app-content flex-column-fluid">
    <div id="kt_app_content_container" class="app-container container-xxl">
        <div class="d-flex flex-column gap-7 gap-lg-10">
            <form name="productForm" class="form">
                <ul class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-5">
                    <li class="nav-item">
                        <a class="nav-link text-active-primary pb-4 active" data-bs-toggle="tab" href="#General">{{::vm.translate.get('General Information')}}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-active-primary pb-4" data-bs-toggle="tab" href="#Details">{{::vm.translate.get('Product Details')}}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-active-primary pb-4" data-bs-toggle="tab" href="#Variations">{{::vm.translate.get('Product Variations')}}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-active-primary pb-4" data-bs-toggle="tab" href="#Attribute">{{::vm.translate.get('Product Attribute')}}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-active-primary pb-4" data-bs-toggle="tab" href="#Related_Products">{{::vm.translate.get('Related Products')}}</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="General" role="tab-panel">
                        <div class="row">
                            <div class="col-xl-4">
                                <div class="card card-flush py-4 mb-5">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Thumbnail')}}</h2>
                                        </div>
                                    </div>
                                    <div class="card-body text-center pt-0">
                                        <div class="image-input image-input-empty image-input-outline image-input-placeholder mb-3">
                                            <div class="image-input-wrapper w-150px h-150px">
                                                <img ngf-src="vm.thumbnailImage" ngf-resize="{width: 150, height: 150, quality: 0.9}">
                                            </div>
                                            <div class="image-input-wrapper w-150px h-150px mt-10" ng-show="!vm.thumbnailImage && vm.product.thumbnailImageUrl">
                                                <img ng-src="{{vm.product.thumbnailImageUrl}}" style="width: 150px; height: 150px " />
                                            </div>
                                            <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow" data-kt-image-input-action="change" data-bs-toggle="tooltip" title="Change avatar">
                                                <i class="ki-duotone ki-pencil fs-7">
                                                    <span class="path1"></span>
                                                    <span class="path2"></span>
                                                </i>
                                                <input type="file" ngf-select ng-model="vm.thumbnailImage" name="thumbnailImage" ngf-accept="'image/*'" />
                                            </label>
                                        </div>
                                        <div class="text-muted fs-7">
                                            {{::vm.translate.get('Set the product thumbnail image. Only *.png, *.jpg and *.jpeg image files are accepted')}}
                                        </div>
                                    </div>
                                </div>
                                <div class="card card-flush py-4 mb-5">
                                    <div class="card-header pt-7">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Category')}}</h2>
                                        </div>
                                    </div>
                                    <div class="card-body pt-5">
                                        <div class="d-flex flex-column gap-5">
                                            <div class="scroll-y mh-325px my-5 px-8">
                                                <md-content class="md-padding">
                                                    <md-input-container class="md-block">
                                                        <div ng-repeat="category in vm.categories">
                                                            <md-checkbox ng-checked="vm.product.categoryIds.indexOf(category.id) > -1" ng-click="vm.toggleCategories(category.id)">
                                                                {{ category.name }}
                                                            </md-checkbox>
                                                        </div>
                                                    </md-input-container>
                                                </md-content>
                                            </div>
                                        </div>
                                        <div class="separator my-7"></div>
                                        <a ui-sref="category-create" class="btn btn-primary w-100">
                                            <i class="ki-duotone ki-badge fs-2"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span></i>
                                            {{::vm.translate.get('Add new Category')}}
                                        </a>
                                    </div>
                                </div>
                                <div class="card card-flush py-4 mb-5">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Status')}}</h2>
                                        </div>
                                        <div class="card-toolbar">
                                            <div ng-if="vm.product.isPublished === true" class="rounded-circle bg-primary w-15px h-15px"></div>
                                            <div ng-if="!vm.product.isPublished === true" class="rounded-circle bg-danger w-15px h-15px"></div>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="mb-10">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" role="switch" ng-model="vm.product.isPublished">
                                                <label class="form-check-label">{{::vm.translate.get('Published')}}</label>
                                            </div>
                                        </div>
                                        <div class="mb-10">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" role="switch" ng-model="vm.product.stockTrackingIsEnabled" />
                                                <label class="form-check-label">
                                                    {{::vm.translate.get('Enable Stock Tracking')}}
                                                </label>
                                            </div>
                                        </div>
                                        <div class="mb-10">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" role="switch" ng-model="vm.product.isFeatured" />
                                                <label class="form-check-label">
                                                    {{::vm.translate.get('Featured')}}
                                                </label>
                                            </div>
                                        </div>
                                        <div class="mb-10">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" role="switch" ng-model="vm.product.isCallForPricing" />
                                                <label class="form-check-label">
                                                    {{::vm.translate.get('Called For Pricing')}}
                                                </label>
                                            </div>
                                        </div>
                                        <div class="mb-10">
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" role="switch" ng-model="vm.product.isAllowToOrder" />
                                                <label class="form-check-label">
                                                    {{::vm.translate.get('Allowed To Order')}}
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-8">
                                <div class="alert alert-danger d-flex align-items-center p-5" ng-show="vm.validationErrors">
                                    <i class="ki-outline ki-call fs-2hx text-danger me-4"></i>
                                    <div class="d-flex flex-column">
                                        <h4 class="mb-1 text-danger" ng-repeat="error in vm.validationErrors">{{error}}</h4>
                                    </div>
                                </div>
                                <div class="card shadow-sm card-flush py-4 mb-5">
                                    <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_General">
                                        <h3 class="card-title">{{::vm.translate.get('General Information')}}</h3>
                                        <div class="card-toolbar rotate-180">
                                            <i class="ki-duotone ki-down fs-1"></i>
                                        </div>
                                    </div>
                                    <div id="collapsible_General" class="collapse show">
                                        <div class="card-body">
                                            <div class="mb-10 fv-row">
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-2">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Product Name')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <input name="productname" ng-model="vm.product.name" ng-change="vm.updateSlug()" required placeholder="{{::vm.translate.get('Product Name')}}" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-2">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Slug')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <div class="d-flex">
                                                            <input name="slug" required disabled="disabled" ng-model="vm.product.slug" type="text" placeholder="{{::vm.translate.get('Slug')}}" class="form-control me-3 flex-grow-1"
                                                                   value="vm.product.slug" />
                                                            <button class="btn btn-light-primary fw-bold flex-shrink-0" id="copySlugButton" ng-disabled="!vm.product.slug" ng-click="vm.copySlug()">
                                                                {{::vm.translate.get('Coppy link')}}
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-2">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Brand')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <select class="form-select" ng-model="vm.product.brandId" ng-options="brand.id as brand.name for brand in vm.brands"></select>
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-2">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('SKU')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <input name="sku" ng-model="vm.product.sku" placeholder="{{::vm.translate.get('SKU')}}" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-2">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('GTIN')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <input name="gtin" ng-model="vm.product.gtin" placeholder="{{::vm.translate.get('GTIN')}}" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-2">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Preview')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <input name="preview" ng-model="vm.product.preview" placeholder="{{::vm.translate.get('Preview')}}" class="form-control" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card shadow-sm card-flush py-4 mb-5">
                                    <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_Pricing">
                                        <h3 class="card-title">{{::vm.translate.get('Pricing')}}</h3>
                                        <div class="card-toolbar rotate-180">
                                            <i class="ki-duotone ki-down fs-1"></i>
                                        </div>
                                    </div>
                                    <div id="collapsible_Pricing" class="collapse show">
                                        <div class="card-body">
                                            <div class="mb-10 fv-row">
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-3">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Price')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <input id="productPrice" type="text" decimal maxlength="10" name="price" ng-model="vm.product.price" required placeholder="{{::vm.translate.get('Price')}}" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-3">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Old Price')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <input id="productOldPrice" type="text" decimal maxlength="10" name="oldPrice" ng-model="vm.product.oldPrice" placeholder="{{::vm.translate.get('Old Price')}}" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-3">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Tax Class')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <select class="form-control" ng-model="vm.product.taxClassId" ng-options="taxClass.id as taxClass.name for taxClass in vm.taxClasses"></select>
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-3">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Special Price')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <input id="productSpecialPrice" type="text" decimal maxlength="10" name="specialPrice" ng-model="vm.product.specialPrice" placeholder="{{::vm.translate.get('Special Price')}}" class="form-control" />
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-3">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Special Price Start')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div class="input-group">
                                                            <input type="text" placeholder="{{::vm.translate.get('Special Price Start')}}" class="form-control" datetime-picker="dd MMM yyyy HH:mm" ng-model="vm.product.specialPriceStart" is-open="vm.datePickerSpecialPriceStart.open" datepicker-options="vm.datePickerSpecialPriceStart.datepickerOptions" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-outline-secondary" type="button" ng-click="vm.openCalendar($event, 'datePickerSpecialPriceStart')"><i class="ki-duotone ki-calendar fs-2"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row fv-row mb-7">
                                                    <div class="col-md-3">
                                                        <label class="fs-6 fw-semibold form-label mt-2">
                                                            {{::vm.translate.get('Special Price End')}}
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <div class="input-group">
                                                            <input type="text" placeholder="{{::vm.translate.get('Special Price End')}}" class="form-control" datetime-picker="dd MMM yyyy HH:mm" ng-model="vm.product.specialPriceEnd" is-open="vm.datePickerSpecialPriceEnd.open" datepicker-options="vm.datePickerSpecialPriceEnd.datepickerOptions" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-outline-secondary" type="button" ng-click="vm.openCalendar($event, 'datePickerSpecialPriceEnd')"><i class="ki-duotone ki-calendar fs-2"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card shadow-sm card-flush py-4 mb-5">
                                    <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_Product_Images">
                                        <h3 class="card-title">{{::vm.translate.get('Product Images')}}</h3>
                                        <div class="card-toolbar rotate-180">
                                            <i class="ki-duotone ki-down fs-1"></i>
                                        </div>
                                    </div>
                                    <div id="collapsible_Product_Images" class="collapse show">
                                        <div class="card-body pt-0">
                                            <div class="fv-row mb-5">
                                                <input placeholder="{{::vm.translate.get('Product Images')}}" class="form-control" type="file" ngf-select ng-model="vm.productImages" ngf-multiple="true" name="productImages" ngf-accept="'image/*'">
                                                <!--<span class="product-image-edit border m-2" ng-repeat="image in vm.product.productImages">
                                                    <img ng-src="{{image.mediaUrl}}" class="p-5" style="width: 100px; height: 100px" />
                                                    <button type="button" ng-click="vm.removeImage(image)" class="btn btn-link" aria-label="Remove">
                                                        <span class="la la-trash-o text-danger icon-lg" aria-hidden="true"></span>
                                                    </button>
                                                </span>-->
                                                <div ng-repeat="image in vm.product.productImages" class="image-input image-input-empty image-input-outline image-input-placeholder mt-5 me-5" data-kt-image-input="true">
                                                    <div class="image-input-wrapper w-150px h-150px">
                                                        <img ng-src="{{image.mediaUrl}}" class="p-5" style="width: 150px; height: 150px" />
                                                    </div>
                                                    <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow" ng-click="vm.removeImage(image)" data-kt-image-input-action="change" data-bs-toggle="tooltip" title="Remove Image">
                                                        <i class="ki-outline ki-cross-circle text-danger fs-2x"></i>
                                                    </label>
                                                </div>
                                                <span ng-repeat="image in vm.productImages">
                                                    <img ngf-src="image" ngf-resize="{width: 150, height: 150, quality: 0.9}">
                                                </span>
                                            </div>
                                            <div class="row fv-row mb-7">
                                                <label class="fs-3 fw-semibold form-label mt-2">{{::vm.translate.get('Product Documents')}}</label>
                                                <input placeholder="" class="form-control" type="file" ngf-select ng-model="vm.productDocuments" ngf-multiple="true" name="productDocuments" ngf-accept="'.pdf,.doc'">
                                                <span class="product-file-edit mt-5" ng-repeat="doc in vm.product.productDocuments">
                                                    <a target="_blank" href="{{doc.mediaUrl}}">{{doc.caption}}</a>
                                                    <button type="button" ng-click="vm.removeDocument(doc)" class="btn btn-icon text-danger icon-md" aria-label="Remove">
                                                        <span class="la la-trash-o" aria-hidden="true"></span>
                                                    </button>
                                                </span>
                                                <span class="product-file-edit" ng-repeat="file in vm.productDocuments">
                                                    <span>{{file.name}}</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card shadow-sm card-flush py-4 mb-5">
                                    <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_Product_Seo">
                                        <h3 class="card-title">{{::vm.translate.get('Meta Options SEO')}}</h3>
                                        <div class="card-toolbar rotate-180">
                                            <i class="ki-duotone ki-down fs-1"></i>
                                        </div>
                                    </div>
                                    <div id="collapsible_Product_Seo" class="collapse show">
                                        <div class="card-body pt-0">
                                            <div class="mb-10">
                                                <label class="fs-6 fw-bold form-label mt-2">{{::vm.translate.get('Meta Tag Title')}}</label>
                                                <input name="metaTitle" ng-model="vm.product.metaTitle" placeholder="{{::vm.translate.get('Meta Title')}}" class="form-control" />
                                                <div class="text-muted fs-7">
                                                    {{::vm.translate.get('Set a meta tag title. Recommended to be simple and precise keywords.')}}
                                                </div>
                                            </div>
                                            <div class="mb-10">
                                                <label class="fs-6 fw-bold form-label mt-2">{{::vm.translate.get('Meta Tag Keywords')}}</label>
                                                <textarea name="metaKeywords" ng-model="vm.product.metaKeywords" placeholder="{{::vm.translate.get('Meta Keywords')}}" class="form-control" rows="2"></textarea>
                                                <div class="text-muted fs-7">
                                                    {{::vm.translate.get('Set a list of keywords that the tutor is related to. Separate the keywords by adding a comma, between each keyword.')}}
                                                </div>
                                            </div>
                                            <div class="mb-10">
                                                <label class="fs-6 fw-bold form-label mt-2">{{::vm.translate.get('Meta Tag Description')}}</label>
                                                <textarea ui-tinymce="vm.tinymceMetaDescriptionOptions" name="metaDescription" class="form-control" ng-model="vm.product.metaDescription"></textarea>
                                                <div class="text-muted fs-7">
                                                    {{::vm.translate.get('Set a meta tag description to the tutor for increased SEO ranking.')}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div id="Details" class="tab-pane fade" role="tab-panel">
                        <div class="card shadow-sm card-flush py-4 mb-5">
                            <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_Short_Description">
                                <h3 class="card-title">{{::vm.translate.get('Short Description')}}</h3>
                                <div class="card-toolbar rotate-180">
                                    <i class="ki-duotone ki-down fs-1"></i>
                                </div>
                            </div>
                            <div id="collapsible_Short_Description" class="collapse show">
                                <div class="card-body pt-0">
                                    <textarea ui-tinymce="vm.tinymceShortDescriptionOptions" name="shortDescription" class="form-control" ng-model="vm.product.shortDescription"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="card shadow-sm card-flush py-4 mb-5">
                            <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_Specification">
                                <h3 class="card-title">{{::vm.translate.get('Specification')}}</h3>
                                <div class="card-toolbar rotate-180">
                                    <i class="ki-duotone ki-down fs-1"></i>
                                </div>
                            </div>
                            <div id="collapsible_Specification" class="collapse">
                                <div class="card-body pt-0">
                                    <textarea ui-tinymce="vm.tinymceSpecificationOptions" name="specification" class="form-control" ng-model="vm.product.specification"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="card shadow-sm card-flush py-4 mb-5">
                            <div class="card-header collapsible cursor-pointer rotate" data-bs-toggle="collapse" data-bs-target="#collapsible_Product_Details">
                                <h3 class="card-title">{{::vm.translate.get('Product Details')}}</h3>
                                <div class="card-toolbar rotate-180">
                                    <i class="ki-duotone ki-down fs-1"></i>
                                </div>
                            </div>
                            <div id="collapsible_Product_Details" class="collapse">
                                <div class="card-body pt-0">
                                    <textarea ui-tinymce="vm.tinymceDescriptionOptions" name="description" class="form-control" ng-model="vm.product.description"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="Variations" class="tab-pane fade" role="tab-panel">
                        <div class="card card-flush py-4">
                            <div class="card-header">
                                <div class="card-title">
                                    <h2>{{::vm.translate.get('Variations')}}</h2>
                                </div>
                            </div>
                            <div class="card-body pt-0">
                                <div class="mb-0">
                                    <div class="row gx-10 mb-5">
                                        <div class="col-lg-6">
                                            <label class="form-label fs-6 fw-bold text-gray-700 mb-3">{{::vm.translate.get('Available Options')}}</label>
                                            <div class="d-flex flex-wrap align-items-center gap-5 mb-5">
                                                <div class="w-100 w-md-200px">
                                                    <select placeholder="" class="form-select" ng-model="vm.addingOption" ng-options="opt as opt.name for opt in vm.options"></select>
                                                    <div class="text-muted fs-7">
                                                        <a ui-sref="product-option-create" class="">
                                                            {{::vm.translate.get('Add another Option')}}
                                                        </a>
                                                    </div>
                                                </div>
                                                <button type="button" ng-disabled="!vm.addingOption" ng-click="vm.addOption()" class="btn btn-light-primary mb-5">
                                                    <i class="ki-duotone ki-plus fs-2"></i>
                                                    {{::vm.translate.get('Add Option')}}
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label class="form-label fs-6 fw-bold text-gray-700 mb-3" ng-show="vm.product.options.length > 0">{{::vm.translate.get('Option Values')}}</label>
                                            <div class="mb-5" ng-show="vm.product.options.length > 0">
                                                <div class="row fv-row mb-7" ng-repeat="option in vm.product.options">
                                                    <label class="fs-6 fw-semibold form-label mt-2">
                                                        {{option.name}}
                                                    </label>
                                                    <div class="col-md-9">
                                                        <md-chips ng-model="option.values"
                                                                  md-transform-chip="vm.newOptionValue($chip)"
                                                                  placeholder="{{::vm.translate.get('Enter a')}} {{option.name}}"
                                                                  delete-button-label="{{::vm.translate.get('Remove')}} {{option.name}}"
                                                                  delete-hint="{{::vm.translate.get('Press delete to remove')}} {{option.name}}"
                                                                  secondary-placeholder="+{{option.name}}">
                                                            <md-chip-template>
                                                                <span>
                                                                    {{$chip.key}}
                                                                </span>
                                                            </md-chip-template>
                                                        </md-chips>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <product-option-display-directive model-id="option_{{option.id}}" title="{{::vm.translate.get('Configure Display')}}" option="option"></product-option-display-directive>
                                                        <button class="btn btn-clean btn-icon" data-bs-toggle="modal" data-bs-target="#option_{{option.id}}"><i class="ki-outline ki-notepad-edit fs-2x"></i></button>
                                                        <button class="btn btn-clean btn-icon" ng-click="vm.deleteOption(option)"><i class="ki-outline ki-cross-circle fs-2x text-danger"></i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="separator separator-dashed my-10"></div>

                                    <div class="d-flex">
                                        <h5 class="text-gray-700 mb-5">
                                            {{::vm.translate.get('Product Variations')}}
                                        </h5>
                                    </div>
                                    <div class="table-responsive mb-10">
                                        <table class="table g-5 gs-0 mb-0 fw-bold text-gray-700" data-kt-element="items">
                                            <thead>
                                                <tr class="border-bottom fs-7 fw-bold text-gray-700 text-uppercase">
                                                    <th>{{::vm.translate.get('Option Combinations')}}</th>
                                                    <th>{{::vm.translate.get('SKU')}}</th>
                                                    <th>{{::vm.translate.get('GTIN')}}</th>
                                                    <th>{{::vm.translate.get('Price')}}</th>
                                                    <th>{{::vm.translate.get('Old Price')}}</th>
                                                    <th>{{::vm.translate.get('Thumbnail')}}</th>
                                                    <th>{{::vm.translate.get('Image')}}</th>
                                                    <th>{{::vm.translate.get('Actions')}}</th>
                                                </tr>
                                            </thead>
                                            <tbody class="fw-semibold text-gray-600">
                                                <tr class="border-bottom border-bottom-dashed" ng-repeat="variation in vm.product.variations">
                                                    <td>
                                                        <span class="text-primary font-weight-bolder">
                                                            {{variation.name}}
                                                        </span>
                                                    </td>
                                                    <td>
                                                        <input id="{{variation.normalizedName}}Sku" type="text" maxlength="100" placeholder="{{::vm.translate.get('SKU')}}" class="form-control" ng-model="variation.sku" />
                                                    </td>
                                                    <td>
                                                        <input id="{{variation.normalizedName}}Gtin" type="text" maxlength="100" placeholder="{{::vm.translate.get('GTIN')}}" class="form-control" ng-model="variation.gtin" />
                                                    </td>
                                                    <td>
                                                        <div class="input-number">
                                                            <input id="{{variation.normalizedName}}Price" type="text" decimal maxlength="10" required placeholder="{{::vm.translate.get('Price')}}" class="form-control" ng-model="variation.price" />
                                                            <!--<label for="{{variation.normalizedName}}Price" placeholder="" class="form-control">{{variation.price | number}}</label>-->
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="input-number">
                                                            <input id="{{variation.normalizedName}}OldPrice" type="text" decimal maxlength="10" placeholder="{{::vm.translate.get('Old Price')}}" class="form-control" ng-model="variation.oldPrice" />
                                                            <!--<label for="{{variation.normalizedName}}OldPrice" placeholder="" class="form-control">{{variation.oldPrice | number}}</label>-->
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input placeholder="" class="form-control" type="file" ngf-select ng-model="variation.newThumbnailImage" name="variationThumbnailImage" ngf-accept="'image/*'">
                                                        <img ngf-src="variation.newThumbnailImage" ngf-resize="{width:50, height: 50, quality: 0.9}">
                                                        <img ng-show="!variation.newThumbnailImage && variation.thumbnailImageUrl" ng-src="{{variation.thumbnailImageUrl}}" style="width: 50px; height: 50px" />
                                                    </td>
                                                    <td>
                                                        <div class="form-group row">
                                                            <input placeholder="" class="form-control" type="file" ngf-select ng-model="variation.newImages" ngf-multiple="true" name="variationImages" ngf-accept="'image/*'">
                                                            <span class="product-image-edit" ng-repeat="image in variation.imageUrls">
                                                                <img ng-src="{{image}}" style="width: 50px; height: 50px" />
                                                            </span>
                                                            <span ng-repeat="image in variation.newImages">
                                                                <img ngf-src="image" ngf-resize="{width: 50, height: 50, quality: 0.9}">
                                                            </span>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <button class="btn btn-clean btn-icon" ng-click="vm.deleteVariation(variation)"><i class="ki-outline ki-cross-circle fs-2x text-danger"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                            <tr ng-show="vm.product.options.length > 0">
                                                <td class="variation-form" colspan="8">
                                                    <ng-form name="addingVariationForm">
                                                        <table class="table">
                                                            <tr>
                                                                <td>
                                                                    <div ng-repeat="option in vm.product.options">
                                                                        <div>
                                                                            <select class="form-select mb-2" ng-model="vm.addingVariation[option.name]"
                                                                                    ng-options="value.key as value.key for value in option.values | filter: vm.filterAddedOptionValue"></select>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <input id="addingVariationSku" type="text" maxlength="100" placeholder="{{::vm.translate.get('SKU')}}" class="form-control" ng-model="vm.addingVariation.sku" />
                                                                </td>
                                                                <td>
                                                                    <input id="addingVariationGtin" type="text" maxlength="100" placeholder="{{::vm.translate.get('GTIN')}}" class="form-control" ng-model="vm.addingVariation.gtin" />
                                                                </td>
                                                                <td>
                                                                    <div class="input-number">
                                                                        <input id="addingVariationPrice" type="text" decimal maxlength="10" placeholder="{{::vm.translate.get('Price')}}" class="form-control" ng-model="vm.addingVariation.price" />
                                                                        <!--<label for="addingVariationPrice" placeholder="" class="form-control">{{vm.addingVariation.price | number}}</label>-->
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="input-number">
                                                                        <input id="addingVariationOldPrice" type="text" decimal maxlength="10" placeholder="{{::vm.translate.get('Old Price')}}" class="form-control" ng-model="vm.addingVariation.oldPrice" />
                                                                        <!--<label for="addingVariationOldPrice" placeholder="" class="form-control">{{vm.addingVariation.oldPrice | number}}</label>-->
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <button type="button" class="btn btn-clean btn-icon btn-outline btn-outline-dashed" ng-disabled="!vm.isAddVariationFormValid()" ng-click="vm.addVariation()">
                                                                        <i class="ki-outline ki-double-check fs-2x text-primary"></i>
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </ng-form>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="Attribute" class="tab-pane fade" role="tab-panel">
                        <div class="d-flex flex-column flex-lg-row fv-plugins-bootstrap5 fv-plugins-framework">
                            <div class="d-flex flex-column gap-5 gap-lg-10 w-100 w-lg-500px mb-7 me-lg-5">
                                <div class="card card-flush py-4" data-select2-id="select2-data-135-ntjn">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Attribute')}}</h2>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="mb-5">
                                            <div class="d-flex flex-wrap align-items-center gap-5 mb-5">
                                                <div class="w-100 w-md-200px">
                                                    <select class="form-select" ng-model="vm.product.template" ng-options="template as template.name for template in vm.productTemplates"></select>
                                                    <div class="text-muted fs-7">
                                                        <a ui-sref="product-attribute-create" class="">
                                                            {{::vm.translate.get('Add another attribute')}}
                                                        </a>
                                                    </div>
                                                </div>
                                                <button type="button" ng-disabled="!vm.product.template" ng-click="vm.applyTemplate()" class="btn btn-light-primary  mb-5">
                                                    <i class="ki-duotone ki-plus fs-2"></i>
                                                    {{::vm.translate.get('Apply')}}
                                                </button>
                                            </div>
                                        </div>
                                        <div class="separator separator-dashed my-4"></div>
                                        <div class="mt-5">
                                            <div class="d-flex flex-wrap align-items-center gap-5 mb-5">
                                                <div class="w-100 w-md-200px">
                                                    <select class="form-select" ng-model="vm.addingAttribute" ng-options="attr as attr.name group by attr.groupName for attr in vm.attributes"></select>
                                                    <div class="text-muted fs-7">
                                                        <a ui-sref="product-template-create" class="">
                                                            {{::vm.translate.get('Add another template')}}
                                                        </a>
                                                    </div>
                                                </div>
                                                <button type="button" ng-disabled="!vm.addingAttribute" ng-click="vm.addAttribute()" class="btn btn-light-primary mb-5">
                                                    <i class="ki-duotone ki-plus fs-2"></i>
                                                    {{::vm.translate.get('Add Attribute')}}
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-5">
                                <div class="card card-flush py-4">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Product Attribute')}}</h2>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <div class="table-responsive">
                                            <table class="table align-middle table-row-dashed">
                                                <thead>
                                                    <tr class="fs-6 fw-bold text-gray-600">
                                                        <th>{{::vm.translate.get('Attribute Name')}}</th>
                                                        <th>{{::vm.translate.get('Value')}}</th>
                                                        <th>{{::vm.translate.get('Actions')}}</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="fw-semibold text-gray-600">
                                                    <tr ng-repeat="attr in vm.product.attributes">
                                                        <td>{{attr.name}}</td>
                                                        <td><input type="text" placeholder="{{::vm.translate.get('Value')}}" class="form-control" ng-model="attr.value" /></td>
                                                        <td>
                                                            <button ng-click="vm.deleteAttribute(attr)" class="btn btn-clean btn-icon delete"> <i class="ki-outline ki-trash fs-2x text-danger"></i></button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="Related_Products" class="tab-pane fade" role="tab-panel">
                        <div class="row">
                            <div class="col-xl-6">
                                <div class="card card-flush py-4">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Products Related')}}</h2>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <product-selection-directive model-id="productRelationSelector" title="{{::vm.translate.get('Add related products')}}" is-visible-individually="true" selected-products="vm.product.relatedProducts"></product-selection-directive>
                                        <button type="button" class="btn btn-light-primary w-100 btn-block mt-5 mb-10" data-bs-toggle="modal" data-bs-target="#productRelationSelector"><i class="la la-list-alt mr-1"></i>{{::vm.translate.get('Manage Related Products')}}</button>
                                        <div class="table-responsive">
                                            <table class="table table-row-dashed align-middle gs-0 gy-4 my-0">
                                                <thead>
                                                    <tr class="fs-7 fw-bold text-gray-500">
                                                        <th>{{::vm.translate.get('Product Name')}}</th>
                                                        <th>{{::vm.translate.get('Price')}}</th>
                                                        <th class="text-center">{{::vm.translate.get('Is Published')}}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="product in vm.product.relatedProducts">
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <a ui-sref="product-edit({id: product.id})" class="symbol symbol-50px">
                                                                    <span class="symbol-label" style="background-image: url('{{product.thumbnailImageUrl}}');">
                                                                    </span>
                                                                </a>
                                                                <div class="ms-5">
                                                                    <a ui-sref="product-edit({id: product.id})" class="text-gray-800 text-hover-primary fs-5 fw-bold">
                                                                        {{product.name}}
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <span class="fw-bold"> {{product.price | number}}</span>
                                                        </td>
                                                        <td>
                                                            <span ng-if="product.isPublished" class="badge py-3 px-4 fs-7 badge-light-success">Xuất bản</span>
                                                            <span ng-if="!product.isPublished" class="badge py-3 px-4 fs-7 badge-light-danger">Không xuất bản</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6">
                                <div class="card card-flush py-4">
                                    <div class="card-header">
                                        <div class="card-title">
                                            <h2>{{::vm.translate.get('Products cross sell')}}</h2>
                                        </div>
                                    </div>
                                    <div class="card-body pt-0">
                                        <product-selection-directive model-id="productCrossSellSelector" title="{{::vm.translate.get('Add cross-sell products')}}" is-visible-individually="true" selected-products="vm.product.crossSellProducts"></product-selection-directive>
                                        <button type="button" class="btn btn-light-primary w-100 btn-block mt-5 mb-10" data-bs-toggle="modal" data-bs-target="#productCrossSellSelector"><i class="la la-list-alt mr-1"></i>{{::vm.translate.get('Manage Cross-sell Products')}}</button>
                                        <div class="table-responsive">
                                            <table class="table table-row-dashed align-middle gs-0 gy-4 my-0">
                                                <thead>
                                                    <tr class="fs-7 fw-bold text-gray-500">
                                                        <th>{{::vm.translate.get('Product Name')}}</th>
                                                        <th>{{::vm.translate.get('Price')}}</th>
                                                        <th class="text-center">{{::vm.translate.get('Is Published')}}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="product in vm.product.crossSellProducts">
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                <a ui-sref="product-edit({id: product.id})" class="symbol symbol-50px">
                                                                    <span class="symbol-label" style="background-image: url('{{product.thumbnailImageUrl}}');">
                                                                    </span>
                                                                </a>
                                                                <div class="ms-5">
                                                                    <a ui-sref="product-edit({id: product.id})" class="text-gray-800 text-hover-primary fs-5 fw-bold">
                                                                        {{product.name}}
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <span class="fw-bold"> {{product.price | number}}</span>
                                                        </td>
                                                        <td>
                                                            <span ng-if="product.isPublished" class="badge py-3 px-4 fs-7 badge-light-success">Xuất bản</span>
                                                            <span ng-if="!product.isPublished" class="badge py-3 px-4 fs-7 badge-light-danger">Không xuất bản</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex gap-2 gap-lg-3 justify-content-end mt-10">
                    <button ui-sref="product" class="btn btn-light-danger"><i class="la la-close mr-1"></i>{{::vm.translate.get('Cancel')}}</button>
                    <button class="btn btn-primary" ng-disabled="productForm.$invalid" ng-click="vm.save()">
                        <span class="indicator-label" ng-hide="vm.showProgress">{{::vm.translate.get('Save Changes')}}</span>
                        <span ng-show="vm.showProgress">
                            {{::vm.translate.get('Please wait...')}}
                            <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                        </span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>